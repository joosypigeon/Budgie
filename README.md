# BudgieCProject

A modular C project using CMake, supporting:

- Custom float/double precision via `USE_FLOAT`
- Multiple build types: Debug, Release, Testing
- Unit testing with Unity framework

## 📁 Project Structure

```
Budgie/
├── CMakeLists.txt
├── src/
│   ├── budgie/
│   │   ├── core.h
│   │   └── precision.h
│   ├── core.c
│   └── main.c
├── tests/
│   ├── test_core.c
│   ├── test_physics.c     # (optional)
│   └── unity/
│       └── src/...
└── build/                 # generated by cmake
```

## 🧱 Build Options

### 1. Configure the project:

```bash
mkdir build
cd build
cmake -DCMAKE_BUILD_TYPE=Debug -DUSE_FLOAT=ON ..
```

- `CMAKE_BUILD_TYPE` can be one of: `Debug`, `Release`, `Testing`
- `USE_FLOAT` determines whether `buReal` uses `float` (`ON`) or `double` (`OFF`)

### 2. Build:

```bash
make
```

### 3. Run:

```bash
./budgie          # main program
./run_tests_core  # unit tests for core
./run_tests_physics  # unit tests for physics (optional)
```

### 4. Run all tests via `ctest`:

```bash
ctest
```

## 🧪 Testing with Unity

Unity test runners are built as separate executables (`run_tests_*`). Tests are defined in files like `test_core.c`, and automatically picked up via `add_test(...)` for `ctest` integration.

## 🧹 Cleaning

To clean the build directory:

```bash
cd build
make clean
```

Or remove the build directory entirely:

```bash
rm -rf build
```
